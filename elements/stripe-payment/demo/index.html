<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>StripePayment: stripe-payment Demo</title>
    <script src="../../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../../../node_modules/@lrnwebcomponents/deduping-fix/deduping-fix.js"></script>
    <script src="../../../node_modules/web-animations-js/web-animations-next-lite.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script type="module">
      import '@polymer/iron-demo-helpers/demo-snippet.js';
      import '../stripe-payment.js';
      import { PUBLISHABLE_KEY } from "../lib/config.js";
      window.PUBLISHABLE_KEY = PUBLISHABLE_KEY;
    </script>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic stripe-payment demo</h3>
      <div id="card"></div>
      <demo-snippet>
        <template>
          <script defer="defer" async="async">
            var payment = document.createElement('stripe-payment');
            // publishable key is imported from a config file
            // and can be found in your Stripe account
            payment.publishableKey = window.PUBLISHABLE_KEY;
            payment.label = "Purchase";
            payment.country = "US";
            payment.currency = "usd";
            payment.amount="100";
            payment.debug = true;
            payment.displayItems = [
              { 
                amount: 100,
                label: "Unlimited futures"
              },
              { 
                amount: 100,
                label: "Other things"
              }
            ];
            payment.shippingOptions = [
              // The first shipping option in this list appears as the default
              // option in the browser payment interface.
              {
                id: 'free-shipping',
                label: 'Free slow shipping',
                detail: 'Via email shortly after purchase',
                amount: 0,
              },
              {
                id: 'lots-to-ship',
                label: 'Lots of ship',
                detail: 'Things and stuff',
                amount: 1000,
              }
            ];
            document.getElementById('card').appendChild(payment);
          </script>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
